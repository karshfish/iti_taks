<html>
    <head>
        <title>
            First Dom Tree Task
        </title>

        <body>
            
                <div>
                    <p>News type</p>
                    <input type="radio" id ="sport" name="type" value="0" checked><span>Sport</span>
                    <input type="radio" id="social" name="type" value="1"><span>Social</span>
                    <input type="radio" id="political" name="type" value="2"><span>Political</span>
                
                    <input type="text" id="newsText" name="newsText" value="welcom">

                    <input type="button" onclick="addNews()" value="add">
                    <table id="content" border="2px solid black" cellspacing="5px"></table>
                </div>
                
                <br>

                <span>Search</span><input type="text" id="search">
     
            

                <table id="search_result" border="2px solid black" cellspacing="5px"></table>
                
            

 
            <script>
            text_data=new Array(0);
            function addNews(){

                //getting input
                newsType= document.querySelector("input[name=type]:checked").value
                newsText=document.getElementById("newsText").value

                newsStyle=[
                    ['sports','red'],
                    ['social','yellow'],
                    ['political', 'blue']
                ]
                //validating input (not repeated the same newsText)
                repeated_news=false
                repeated_type=false
                text_data.some((_value)=>(_value[0]==newsText&&_value[1]==newsType))? repeated_news=true: text_data.push([newsText,newsType]);
                console.log(text_data)



                //creating new row
                table=document.getElementById("content");
                newRow=document.createElement("tr")
                table.appendChild(newRow);
                rows=document.getElementsByTagName("tr")

                //adding cells
                if(repeated_news){
                    alert("news already exist")
                }
                else{
                newsTextTd=document.createElement("td")
                newsTextTd.textContent=newsText
                newsTypeTd=document.createElement("td")
                newsTypeTd.textContent=newsStyle[newsType][0]
                rows[rows.length-1].appendChild(newsTextTd)
                rows[rows.length-1].appendChild(newsTypeTd)
                rows[rows.length-1].style.backgroundColor=newsStyle[newsType][1]
                }
                 console.log(text_data.length)
            }
           

            document.getElementById("search").addEventListener("keyup",function(e){
                search_value=e.target.value;
                console.log(search_value)
                
                // console.log(text_data.indexOf(search_value));
                if(text_data.length>0){
                    for(let i =0; i<text_data.length;i++){
                        nth=text_data[i].indexOf(search_value)
                        if(nth==-1){
                            
                            console.log("not found")
                            
                        }
                        else{
                            tr=document.querySelector("table tr:nth-child("+ i+")")
                            
                            result=document.getElementById("search_result").appendChild(tr)
                            
                            break;
                        }

                }
                }
                 else{
                    
                }


            })
        </script>
        </body>
    </head>
</html>